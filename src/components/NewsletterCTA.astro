---
import type { Lang } from '../i18n/languages';
import { useTranslations } from '../i18n/utils';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<aside class="my-12 border-2 border-ink/10 rounded-lg p-6 sm:p-8 bg-paper-dark/30">
  <div class="max-w-lg mx-auto text-center">
    <h2 class="font-sans font-bold text-ink text-xl mb-2">{t('newsletter.title')}</h2>
    <p class="font-sans text-sm text-ink/70 mb-6">{t('newsletter.description')}</p>
    <form
      action="https://sourcecheckorg.substack.com/subscribe"
      method="GET"
      target="_blank"
      rel="noopener noreferrer"
      class="flex flex-col sm:flex-row gap-3"
    >
      <label class="sr-only" for="newsletter-email">{t('newsletter.email')}</label>
      <input
        id="newsletter-email"
        type="email"
        name="email"
        required
        placeholder={t('newsletter.email')}
        class="flex-1 px-4 py-3 rounded-lg border border-border bg-white font-sans text-sm text-ink placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-ink/20"
      />
      <button
        type="submit"
        class="px-6 py-3 rounded-lg bg-ink text-white font-sans text-sm font-bold hover:bg-ink/80 transition-colors"
      >
        {t('newsletter.subscribe')}
      </button>
    </form>
    <p class="font-sans text-xs text-muted mt-3">{t('newsletter.privacy')}</p>
  </div>
</aside>
